-- Adminer 4.8.1 MySQL 10.4.32-MariaDB dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

SET NAMES utf8mb4;

DROP TABLE IF EXISTS `appliance`;
CREATE TABLE `appliance` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  `reference` varchar(100) NOT NULL,
  `wattage` int(11) NOT NULL,
  `habitat_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `habitat_id` (`habitat_id`),
  CONSTRAINT `appliance_ibfk_1` FOREIGN KEY (`habitat_id`) REFERENCES `habitat` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='http://localhost:8000/powerhome_server/adminer.php?file=plus.gif&version=4.8.1';

INSERT INTO `appliance` (`id`, `name`, `reference`, `wattage`, `habitat_id`) VALUES
(1,	'Aspirateur',	'AS9210',	700,	1),
(2,	'Chauffage',	'CH1234',	1500,	3),
(3,	'Fer à repasser',	'FR5678',	1200,	4),
(4,	'Machine à laver',	'ML9012',	1800,	5),
(5,	'Aspirateur',	'AS3456',	800,	6),
(6,	'Chauffage',	'CH7890',	1500,	7),
(7,	'Fer à repasser',	'FR2345',	1200,	8),
(8,	'Machine à laver',	'ML6789',	1800,	9),
(9,	'Aspirateur',	'AS0123',	700,	10),
(10,	'Chauffage',	'CH4567',	1500,	11),
(11,	'Fer à repasser',	'FR8901',	1200,	12),
(12,	'Aspirateur',	'ASP1001',	800,	1),
(13,	'Chauffage',	'CH2001',	1500,	1),
(14,	'Machine à laver',	'ML3002',	1200,	2),
(15,	'Fer à repasser',	'FR4002',	1000,	2),
(16,	'Aspirateur',	'ASP1003',	700,	3),
(17,	'Machine à laver',	'ML3003',	1100,	3),
(18,	'Chauffage',	'CH2004',	1400,	4),
(19,	'Fer à repasser',	'FR4004',	900,	4),
(20,	'Aspirateur',	'ASP1005',	750,	5),
(21,	'Chauffage',	'CH2005',	1600,	5),
(22,	'Machine à laver',	'ML3005',	1300,	5),
(23,	'Fer à repasser',	'FR4006',	950,	6),
(24,	'Machine à laver',	'ML3006',	1250,	6),
(25,	'Chauffage',	'CH2006',	1450,	6),
(26,	'Aspirateur',	'ASP1007',	720,	7),
(27,	'Chauffage',	'CH2007',	1550,	7),
(28,	'Fer à repasser',	'FR4007',	970,	7),
(29,	'Machine à laver',	'ML3007',	1350,	7),
(30,	'Chauffage',	'CH2008',	1400,	8),
(31,	'Machine à laver',	'ML3009',	1200,	9),
(32,	'Aspirateur',	'ASP1012',	730,	12),
(33,	'Chauffage',	'CH2012',	1520,	12),
(34,	'Machine à laver',	'ML3013',	1220,	13),
(35,	'Fer à repasser',	'FR4013',	980,	13),
(36,	'Aspirateur',	'ASP1014',	710,	14),
(37,	'Machine à laver',	'ML3014',	1120,	14),
(38,	'Chauffage',	'CH2015',	1450,	15),
(39,	'Fer à repasser',	'FR4015',	990,	15),
(40,	'Machine à laver',	'ML3015',	1280,	15),
(41,	'Aspirateur',	'ASP1016',	740,	16),
(42,	'Machine à laver',	'ML3016',	1180,	16),
(43,	'Chauffage',	'CH2016',	1470,	16),
(44,	'Aspirateur',	'ASP1017',	760,	17),
(45,	'Chauffage',	'CH2017',	1490,	17),
(46,	'Fer à repasser',	'FR4017',	960,	17),
(47,	'Machine à laver',	'ML3017',	1320,	17),
(48,	'Chauffage',	'CH2018',	1350,	18),
(49,	'Machine à laver',	'ML3019',	1150,	19);

DROP TABLE IF EXISTS `appliance_time_slot`;
CREATE TABLE `appliance_time_slot` (
  `appliance_id` int(11) NOT NULL,
  `time_slot_id` int(11) NOT NULL,
  `order` int(11) NOT NULL,
  `booked_at` datetime NOT NULL,
  KEY `appliance_id` (`appliance_id`),
  KEY `time_slot_id` (`time_slot_id`),
  CONSTRAINT `appliance_time_slot_ibfk_1` FOREIGN KEY (`appliance_id`) REFERENCES `appliance` (`id`),
  CONSTRAINT `appliance_time_slot_ibfk_2` FOREIGN KEY (`time_slot_id`) REFERENCES `time_slot` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `appliance_time_slot` (`appliance_id`, `time_slot_id`, `order`, `booked_at`) VALUES
(1,	1,	1,	'2024-02-28 10:44:19'),
(2,	2,	1,	'2025-03-30 07:45:00'),
(3,	3,	2,	'2025-03-30 09:45:00'),
(4,	4,	3,	'2025-03-30 11:45:00'),
(5,	5,	4,	'2025-03-30 13:45:00'),
(6,	2,	1,	'2025-03-30 07:50:00'),
(7,	3,	2,	'2025-03-30 09:50:00'),
(8,	4,	3,	'2025-03-30 11:50:00'),
(9,	5,	4,	'2025-03-30 13:50:00'),
(10,	2,	1,	'2025-03-30 07:55:00'),
(11,	3,	2,	'2025-03-30 09:55:00'),
(13,	5,	1,	'2025-03-30 18:47:19'),
(13,	5,	1,	'2025-03-30 18:54:34'),
(13,	5,	1,	'2025-03-30 18:54:43'),
(42,	6,	1,	'2025-03-01 08:30:00'),
(8,	7,	1,	'2025-03-02 08:30:00'),
(11,	8,	1,	'2025-03-03 08:30:00'),
(32,	9,	1,	'2025-03-04 08:30:00'),
(28,	10,	1,	'2025-03-05 08:30:00'),
(45,	11,	1,	'2025-03-06 08:30:00'),
(42,	12,	1,	'2025-03-07 08:30:00'),
(27,	13,	1,	'2025-03-08 08:30:00'),
(6,	14,	1,	'2025-03-09 08:30:00'),
(49,	15,	1,	'2025-03-10 08:30:00'),
(29,	16,	1,	'2025-03-11 08:30:00'),
(47,	17,	1,	'2025-03-12 08:30:00'),
(48,	18,	1,	'2025-03-13 08:30:00'),
(3,	19,	1,	'2025-03-14 08:30:00'),
(15,	20,	1,	'2025-03-15 08:30:00'),
(19,	21,	1,	'2025-03-16 08:30:00'),
(47,	22,	1,	'2025-03-17 08:30:00'),
(34,	23,	1,	'2025-03-18 08:30:00'),
(25,	24,	1,	'2025-03-19 08:30:00'),
(24,	25,	1,	'2025-03-20 08:30:00'),
(42,	26,	1,	'2025-03-21 08:30:00'),
(43,	27,	1,	'2025-03-22 08:30:00'),
(37,	28,	1,	'2025-03-23 08:30:00'),
(8,	29,	1,	'2025-03-24 08:30:00'),
(28,	30,	1,	'2025-03-25 08:30:00'),
(15,	31,	1,	'2025-03-26 08:30:00'),
(40,	32,	1,	'2025-03-27 08:30:00'),
(6,	33,	1,	'2025-03-28 08:30:00'),
(8,	34,	1,	'2025-03-29 08:30:00'),
(21,	2,	1,	'2025-03-30 08:30:00'),
(33,	36,	1,	'2025-03-31 08:30:00'),
(1,	6,	2,	'2025-03-01 09:30:00'),
(5,	7,	2,	'2025-03-02 09:30:00'),
(21,	8,	2,	'2025-03-03 09:30:00'),
(42,	9,	2,	'2025-03-04 09:30:00'),
(46,	10,	2,	'2025-03-05 09:30:00'),
(7,	11,	2,	'2025-03-06 09:30:00'),
(42,	12,	2,	'2025-03-07 09:30:00'),
(42,	13,	2,	'2025-03-08 09:30:00'),
(33,	14,	2,	'2025-03-09 09:30:00'),
(40,	15,	2,	'2025-03-10 09:30:00'),
(2,	16,	2,	'2025-03-11 09:30:00'),
(35,	17,	2,	'2025-03-12 09:30:00'),
(22,	18,	2,	'2025-03-13 09:30:00'),
(6,	19,	2,	'2025-03-14 09:30:00'),
(13,	20,	2,	'2025-03-15 09:30:00'),
(45,	21,	2,	'2025-03-16 09:30:00'),
(39,	22,	2,	'2025-03-17 09:30:00'),
(10,	23,	2,	'2025-03-18 09:30:00'),
(29,	24,	2,	'2025-03-19 09:30:00'),
(17,	25,	2,	'2025-03-20 09:30:00'),
(46,	26,	2,	'2025-03-21 09:30:00'),
(31,	27,	2,	'2025-03-22 09:30:00'),
(16,	28,	2,	'2025-03-23 09:30:00'),
(38,	29,	2,	'2025-03-24 09:30:00'),
(44,	30,	2,	'2025-03-25 09:30:00'),
(8,	31,	2,	'2025-03-26 09:30:00'),
(5,	32,	2,	'2025-03-27 09:30:00'),
(48,	33,	2,	'2025-03-28 09:30:00'),
(28,	34,	2,	'2025-03-29 09:30:00'),
(45,	2,	2,	'2025-03-30 09:30:00'),
(45,	36,	2,	'2025-03-31 09:30:00'),
(1,	2,	1,	'2025-03-30 19:53:25');

DROP TABLE IF EXISTS `habitat`;
CREATE TABLE `habitat` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `floor` int(11) NOT NULL,
  `area` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `habitat` (`id`, `floor`, `area`) VALUES
(1,	1,	28),
(2,	1,	34),
(3,	2,	40),
(4,	2,	32),
(5,	3,	50),
(6,	3,	45),
(7,	4,	60),
(8,	4,	35),
(9,	5,	55),
(10,	5,	42),
(11,	6,	48),
(12,	6,	39),
(13,	7,	41),
(14,	7,	37),
(15,	8,	43),
(16,	8,	31),
(17,	9,	52),
(18,	9,	29),
(19,	10,	47),
(20,	10,	33),
(21,	11,	44),
(22,	11,	30);

DROP TABLE IF EXISTS `time_slot`;
CREATE TABLE `time_slot` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `begin` datetime NOT NULL,
  `end` datetime NOT NULL,
  `max_wattage` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `time_slot` (`id`, `begin`, `end`, `max_wattage`) VALUES
(1,	'2024-02-28 20:00:00',	'2024-02-28 21:00:00',	8000),
(2,	'2025-03-30 08:00:00',	'2025-03-30 09:00:00',	10000),
(3,	'2025-03-30 10:00:00',	'2025-03-30 11:00:00',	10000),
(4,	'2025-03-30 12:00:00',	'2025-03-30 13:00:00',	10000),
(5,	'2025-03-30 14:00:00',	'2025-03-30 15:00:00',	10000),
(6,	'2025-03-01 08:00:00',	'2025-03-01 10:00:00',	10000),
(7,	'2025-03-02 08:00:00',	'2025-03-02 10:00:00',	10000),
(8,	'2025-03-03 08:00:00',	'2025-03-03 10:00:00',	10000),
(9,	'2025-03-04 08:00:00',	'2025-03-04 10:00:00',	10000),
(10,	'2025-03-05 08:00:00',	'2025-03-05 10:00:00',	10000),
(11,	'2025-03-06 08:00:00',	'2025-03-06 10:00:00',	10000),
(12,	'2025-03-07 08:00:00',	'2025-03-07 10:00:00',	10000),
(13,	'2025-03-08 08:00:00',	'2025-03-08 10:00:00',	10000),
(14,	'2025-03-09 08:00:00',	'2025-03-09 10:00:00',	10000),
(15,	'2025-03-10 08:00:00',	'2025-03-10 10:00:00',	10000),
(16,	'2025-03-11 08:00:00',	'2025-03-11 10:00:00',	10000),
(17,	'2025-03-12 08:00:00',	'2025-03-12 10:00:00',	10000),
(18,	'2025-03-13 08:00:00',	'2025-03-13 10:00:00',	10000),
(19,	'2025-03-14 08:00:00',	'2025-03-14 10:00:00',	10000),
(20,	'2025-03-15 08:00:00',	'2025-03-15 10:00:00',	10000),
(21,	'2025-03-16 08:00:00',	'2025-03-16 10:00:00',	10000),
(22,	'2025-03-17 08:00:00',	'2025-03-17 10:00:00',	10000),
(23,	'2025-03-18 08:00:00',	'2025-03-18 10:00:00',	10000),
(24,	'2025-03-19 08:00:00',	'2025-03-19 10:00:00',	10000),
(25,	'2025-03-20 08:00:00',	'2025-03-20 10:00:00',	10000),
(26,	'2025-03-21 08:00:00',	'2025-03-21 10:00:00',	10000),
(27,	'2025-03-22 08:00:00',	'2025-03-22 10:00:00',	10000),
(28,	'2025-03-23 08:00:00',	'2025-03-23 10:00:00',	10000),
(29,	'2025-03-24 08:00:00',	'2025-03-24 10:00:00',	10000),
(30,	'2025-03-25 08:00:00',	'2025-03-25 10:00:00',	10000),
(31,	'2025-03-26 08:00:00',	'2025-03-26 10:00:00',	10000),
(32,	'2025-03-27 08:00:00',	'2025-03-27 10:00:00',	10000),
(33,	'2025-03-28 08:00:00',	'2025-03-28 10:00:00',	10000),
(34,	'2025-03-29 08:00:00',	'2025-03-29 10:00:00',	10000),
(35,	'2025-03-30 08:00:00',	'2025-03-30 10:00:00',	10000),
(36,	'2025-03-31 08:00:00',	'2025-03-31 10:00:00',	10000);

DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `firstname` varchar(50) NOT NULL,
  `lastname` varchar(50) NOT NULL,
  `email` varchar(50) NOT NULL,
  `password` varchar(100) NOT NULL,
  `token` varchar(100) DEFAULT NULL,
  `expired_at` datetime DEFAULT NULL,
  `habitat_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `habitat_id` (`habitat_id`),
  CONSTRAINT `user_ibfk_2` FOREIGN KEY (`habitat_id`) REFERENCES `habitat` (`id`),
  CONSTRAINT `user_ibfk_3` FOREIGN KEY (`habitat_id`) REFERENCES `habitat` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `user` (`id`, `firstname`, `lastname`, `email`, `password`, `token`, `expired_at`, `habitat_id`) VALUES
(1,	'Ahmed',	'Chaouche',	'ac.chaouche@gmail.com',	'azerty',	'f99b14123672fdaf92d6f7925bff4ab8',	'2025-04-28 00:17:17',	1),
(2,	'Alice',	'Durand',	'alice.durand@gmail.com',	'password',	'token1',	'2025-04-01 12:00:00',	3),
(3,	'Jean',	'Dupont',	'jean.dupont@gmail.com',	'password',	'token2',	'2025-04-01 12:00:00',	4),
(4,	'Sophie',	'Lemoine',	'sophie.lemoine@gmail.com',	'password',	'token3',	'2025-04-01 12:00:00',	5),
(5,	'Marc',	'Robert',	'marc.robert@gmail.com',	'password',	'token4',	'2025-04-01 12:00:00',	6),
(6,	'Isabelle',	'Moreau',	'isabelle.moreau@gmail.com',	'password',	'token5',	'2025-04-01 12:00:00',	7),
(7,	'Nicolas',	'Bernard',	'nicolas.bernard@gmail.com',	'password',	'token6',	'2025-04-01 12:00:00',	8),
(8,	'Chloe',	'Girard',	'chloe.girard@gmail.com',	'password',	'token7',	'2025-04-01 12:00:00',	9),
(9,	'Paul',	'Rousseau',	'paul.rousseau@gmail.com',	'password',	'token8',	'2025-04-01 12:00:00',	10),
(10,	'Emma',	'Fournier',	'emma.fournier@gmail.com',	'password',	'token9',	'2025-04-01 12:00:00',	11),
(11,	'Lucas',	'Dufour',	'lucas.dufour@gmail.com',	'password',	'token10',	'2025-04-01 12:00:00',	12);

-- 2025-03-30 20:02:06